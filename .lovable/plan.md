
Цель: чтобы пользователи могли реально писать комментарии под постом, и чтобы окно «Комментарии» открывалось достаточно большим и перекрывало нижнюю навигацию (сейчас поле ввода скрыто/недоступно).

## Что сейчас происходит (по данным проекта)
- Вы вошли в аккаунт, но **поля ввода в комментариях нет** и **кнопку отправки нажать нельзя**.
- Это совпадает со скриншотом: окно «Комментарии» открывается не на весь экран и **снизу видна BottomNav**, которая перекрывает нижнюю часть.
- В коде: `BottomNav` имеет `z-[100]`, а `Drawer` (который использует `CommentsSheet`) рисуется с `z-50`. Из‑за этого Drawer оказывается “под” нижней панелью.
- Дополнительно Drawer по умолчанию имеет `mt-24`, что визуально “уменьшает” модалку.

## Решение (что изменим)
### 1) Исправить перекрытие (главная причина «не могу писать комментарии»)
Файл: `src/components/ui/drawer.tsx`
- Поднять z-index у `DrawerOverlay` и `DrawerContent` выше, чем у `BottomNav`:
  - заменить `z-50` на `z-[200]` (или выше), чтобы Drawer всегда был сверху, как чат.
- Это должно сделать так, что окно комментариев перекроет нижнюю панель и поле ввода станет доступным.

Почему это безопасно:
- Drawer используется не только в CommentsSheet, но и, например, в переключателе аккаунтов. Он тоже станет корректно перекрывать BottomNav, что обычно ожидаемо для модальных окон.

### 2) Сделать окно «Комментарии» больше (реально “полноэкранным” на телефоне)
Файл: `src/components/feed/CommentsSheet.tsx`
- В `DrawerContent` заменить подход “max-h” на фиксированную высоту по вьюпорту:
  - например `h-[92dvh] max-h-[92dvh]` (dvh лучше на мобильных)
  - добавить `mt-0` чтобы перебить базовый `mt-24` из Drawer (tailwind-merge оставит последнее правило)
- Убедиться, что список комментариев прокручивается, а нижняя панель ввода всегда закреплена снизу.

Ожидаемый итог:
- Модалка будет занимать почти весь экран.
- Поле ввода будет всегда видно/доступно.

### 3) Убрать предупреждение React про ref (чтобы не было скрытых багов в Drawer)
Сейчас в консоли:
- “Function components cannot be given refs… Check render method of CommentsSheet… at DrawerHeader …”

Файл: `src/components/ui/drawer.tsx`
- Перевести `DrawerHeader` (и желательно `DrawerFooter`) на `React.forwardRef`, как сделано для `DrawerOverlay` и `DrawerContent`.
- Это устранит предупреждение и снизит риск проблем с фокусом/скроллом в модалке.

### 4) (Опционально) Улучшить UX отправки комментария
Файл: `src/components/feed/CommentsSheet.tsx`
- После того как UI станет доступным:
  - добавить toast/сообщение, если `addComment` вернул ошибку (например, сеть/доступ/валидация).
  - отключать кнопку отправки при пустом тексте уже сделано, но можно показать подсказку.

## Проверка после правок (как убедимся, что всё работает)
1) Открыть пост → нажать на иконку комментариев.
2) Убедиться, что:
   - окно перекрывает нижнюю навигацию,
   - поле ввода видно,
   - можно нажать и печатать.
3) Написать “тест” → отправить:
   - в Network появится POST/INSERT запрос в `comments`,
   - комментарий появится в списке,
   - счётчик комментариев на посте обновится (внутри окна точно; на карточке поста — при следующей загрузке/рефетче ленты, либо добавим локальное обновление отдельно, если нужно).

## Что я сделаю сразу после переключения в Default mode
- Внесу правки в:
  - `src/components/ui/drawer.tsx` (z-index + forwardRef для header/footer)
  - `src/components/feed/CommentsSheet.tsx` (высота/позиционирование drawer, чтобы поле ввода всегда было доступно)
- Затем проверю в превью на мобильном размере, что комментарий реально отправляется (появится POST запрос и комментарий отобразится).

## Важные примечания
- По текущим сетевым логам видно только GET на `comments` (пусто). POST не происходит, потому что вы физически не можете нажать/видеть поле ввода. Сначала исправляем UI-слой (z-index/высота), затем уже проверяем права/ошибки вставки.
